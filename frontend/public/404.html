<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Redirecting...</title>
    <script>
      // GitHub Pages 404.html - Handles client-side routing for Next.js static export
      // This file is served when a route doesn't exist as a physical file
      
      var path = window.location.pathname;
      var search = window.location.search || '';
      var hash = window.location.hash || '';
      
      // Repository name (must match your GitHub Pages URL structure)
      var repoName = 'word-battle';
      var basePath = '/' + repoName;
      
      // Remove leading/trailing slashes and split
      var cleanPath = path.replace(/^\/+|\/+$/g, '');
      var segments = cleanPath ? cleanPath.split('/') : [];
      
      // Determine the route
      var routePath = '';
      
      if (segments.length === 0) {
        // Root path - redirect to base index
        window.location.replace(basePath + '/index.html' + search + hash);
      } else if (segments[0].toLowerCase() === repoName.toLowerCase()) {
        // Already on base path, extract route
        routePath = segments.slice(1).join('/');
        if (!routePath) {
          // Just base path, no route
          window.location.replace(basePath + '/index.html' + search + hash);
        } else {
          // Route exists, redirect to route/index.html
          window.location.replace(basePath + '/' + routePath + '/index.html' + search + hash);
        }
      } else {
        // Not on base path, assume first segment is route
        routePath = segments.join('/');
        window.location.replace(basePath + '/' + routePath + '/index.html' + search + hash);
      }
    </script>
    <noscript>
      <meta http-equiv="refresh" content="0;url=/word-battle/">
    </noscript>
  </head>
  <body>
    <p>Redirecting...</p>
  </body>
</html>
